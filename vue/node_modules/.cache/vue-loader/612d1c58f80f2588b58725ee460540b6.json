{"remainingRequest":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ThinkPad\\Desktop\\js\\vue\\src\\components\\CommentsList.vue?vue&type=style&index=0&id=3438583c&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\src\\components\\CommentsList.vue","mtime":1611866783848},{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5pbnB1dCB7DQogIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDsNCn0NCg=="},{"version":3,"sources":["CommentsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA","file":"CommentsList.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <b-container>\r\n      <b-form>\r\n        <b-row class=\"mt-2\">\r\n          <b-col sm=\"6\" offset=\"2\" class=\"mx-auto\">\r\n            <b-input\r\n              class=\"mb-2 mr-sm-2 mb-sm-0 input\"\r\n              placeholder=\"Enter the phone model\"\r\n              v-model=\"$v.form.model.$model\"\r\n              :state=\"validateState('model')\"\r\n              aria-describedby=\"input-1-live-feedback\"\r\n            ></b-input>\r\n            <b-form-invalid-feedback id=\"input-1-live-feedback\">\r\n              The model must contain at least 1 and maximum 50 chracters.\r\n            </b-form-invalid-feedback>\r\n            <b-button variant=\"primary\" size=\"lg\" @click=\"search\"\r\n              >Search comments</b-button\r\n            >\r\n          </b-col>\r\n        </b-row>\r\n      </b-form>\r\n    </b-container>\r\n    <b-table\r\n      sticky-header=\"800px\"\r\n      :items=\"comments\"\r\n      head-variant=\"light\"\r\n      @row-clicked=\"edit\"\r\n    ></b-table>\r\n    <b-form>\r\n      <b-row class=\"mt-2\">\r\n        <b-col lg=\"6\" offset=\"2\" class=\"text-center mx-auto\">\r\n          <!-- <b-input\r\n            v-model=\"nickname\"\r\n            class=\"mb-2 mr-sm-2 mb-sm-0 mb-2 input\"\r\n            placeholder=\"Enter your nickname\"\r\n          ></b-input> -->\r\n          <b-form-textarea\r\n            placeholder=\"Enter your comment\"\r\n            class=\"input\"\r\n            v-model=\"$v.form.comment.$model\"\r\n            :state=\"validateState('comment')\"\r\n            aria-describedby=\"input-2-live-feedback\"\r\n          ></b-form-textarea>\r\n          <b-form-invalid-feedback id=\"input-2-live-feedback\">\r\n            The comment must contain at least 3 and maximum 1000 chracters.\r\n          </b-form-invalid-feedback>\r\n          <b-button variant=\"primary\" size=\"lg\" @click=\"addNew\">Save</b-button>\r\n        </b-col>\r\n      </b-row>\r\n    </b-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport router from \"@/router\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport { validationMixin } from \"vuelidate\";\r\nimport { required, minLength, maxLength } from \"vuelidate/lib/validators\";\r\n\r\nexport default {\r\n  name: \"CommentsList\",\r\n  mixins: [validationMixin],\r\n  computed: {\r\n    ...mapState([\"comments\"]),\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      form: {\r\n        model: null,\r\n        comment: null,\r\n      },\r\n    };\r\n  },\r\n  validations: {\r\n    form: {\r\n      model: {\r\n        required,\r\n        minLength: minLength(1),\r\n        maxLength: maxLength(50),\r\n      },\r\n      comment: {\r\n        required,\r\n        minLength: minLength(3),\r\n        maxLength: maxLength(1000),\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\"load_comments\", \"new_comment\"]),\r\n\r\n    validateState(name) {\r\n      const { $dirty, $error } = this.$v.form[name];\r\n      return $dirty ? !$error : null;\r\n    },\r\n\r\n    search: function () {\r\n      this.load_comments(this.form.model);\r\n    },\r\n\r\n    addNew: function () {\r\n      const com = JSON.stringify({\r\n        model: this.form.model,\r\n        user_id: this.$store.state.user,\r\n        nickname: this.$store.state.username,\r\n        comment: this.form.comment,\r\n      });\r\n      this.new_comment(com);\r\n      this.nickname = \"\";\r\n      this.comment = \"\";\r\n    },\r\n\r\n    edit: function (item, index, event) {\r\n      if (item.username === this.$store.state.username) {\r\n        router.push({ path: `/editComment/${item.id}` });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.input {\r\n  margin-bottom: 10px !important;\r\n}\r\n</style>"]}]}