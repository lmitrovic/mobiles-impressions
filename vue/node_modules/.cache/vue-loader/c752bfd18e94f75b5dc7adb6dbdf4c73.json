{"remainingRequest":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ThinkPad\\Desktop\\js\\vue\\src\\components\\EditMobile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\src\\components\\EditMobile.vue","mtime":1611861507829},{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\js\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgdmFsaWRhdGlvbk1peGluIH0gZnJvbSAidnVlbGlkYXRlIjsKaW1wb3J0IHsgcmVxdWlyZWQsIG1pbkxlbmd0aCwgbWF4TGVuZ3RoIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRWRpdE1vYmlsZSIsCiAgbWl4aW5zOiBbdmFsaWRhdGlvbk1peGluXSwKICBwcm9wczogewogICAgbW9kZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIiwKICAgIH0sCiAgICBwcm9kdWNlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiLAogICAgfSwKICAgIHByaWNlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogIiIsCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkOiAiIiwKICAgICAgZm9ybTogewogICAgICAgIG1vZGVsOiBudWxsLAogICAgICAgIHByb2R1Y2VyOiBudWxsLAogICAgICAgIHByaWNlOiBudWxsLAogICAgICB9LAogICAgfTsKICB9LAogIHZhbGlkYXRpb25zOiB7CiAgICBmb3JtOiB7CiAgICAgIG1vZGVsOiB7CiAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMSksCiAgICAgICAgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoNTApLAogICAgICB9LAogICAgICBwcm9kdWNlcjogewogICAgICAgIHJlcXVpcmVkLAogICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDMpLAogICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDIwKSwKICAgICAgfSwKICAgICAgcHJpY2U6IHsKICAgICAgICByZXF1aXJlZCwKICAgICAgfSwKICAgIH0sCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmZvcm0ubW9kZWwgPSB0aGlzLm1vZGVsOwogICAgdGhpcy5mb3JtLnByb2R1Y2VyID0gdGhpcy5wcm9kdWNlcjsKICAgIHRoaXMuZm9ybS5wcmljZSA9IHRoaXMucHJpY2U7CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsibmV3X21vYmlsZSIsICJjaGFuZ2VfbW9iaWxlIl0pLAoKICAgIHZhbGlkYXRlU3RhdGUobmFtZSkgewogICAgICBjb25zdCB7ICRkaXJ0eSwgJGVycm9yIH0gPSB0aGlzLiR2LmZvcm1bbmFtZV07CiAgICAgIHJldHVybiAkZGlydHkgPyAhJGVycm9yIDogbnVsbDsKICAgIH0sCgogICAgYWRkTmV3OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJHYuZm9ybS4kdG91Y2goKTsKICAgICAgaWYgKHRoaXMuJHYuZm9ybS4kYW55RXJyb3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgbW9iID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgIG1vZGVsOiB0aGlzLmZvcm0ubW9kZWwsCiAgICAgICAgcHJvZHVjZXI6IHRoaXMuZm9ybS5wcm9kdWNlciwKICAgICAgICBwcmljZTogcGFyc2VJbnQodGhpcy5mb3JtLnByaWNlKSwKICAgICAgfSk7CgogICAgICBpZiAoIXRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgdGhpcy5uZXdfbW9iaWxlKG1vYik7CiAgICAgIGVsc2UgewogICAgICAgIHRoaXMuY2hhbmdlX21vYmlsZSh7IGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIG1vYjogbW9iIH0pOwogICAgICB9CiAgICAgIHRoaXMuZm9ybS5tb2RlbCA9ICIiOwogICAgICB0aGlzLmZvcm0ucHJvZHVjZXIgPSAiIjsKICAgICAgdGhpcy5mb3JtLnByaWNlID0gIiI7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["EditMobile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditMobile.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <b-container fluid>\n    <b-form>\n      <b-row class=\"mt-2\">\n        <b-col sm=\"3\" offset=\"2\">\n          <b-input\n            class=\"mb-2 mr-sm-2 mb-sm-0\"\n            placeholder=\"Enter new model\"\n            v-model=\"$v.form.model.$model\"\n            :state=\"validateState('model')\"\n            aria-describedby=\"input-1-live-feedback\"\n          ></b-input>\n          <b-form-invalid-feedback id=\"input-1-live-feedback\">\n            The model must contain at least 1 and maximum 50 chracters.\n          </b-form-invalid-feedback>\n        </b-col>\n        <b-col sm=\"3\">\n          <b-input\n            class=\"mb-2 mr-sm-2 mb-sm-0\"\n            placeholder=\"Enter new producer\"\n            v-model=\"$v.form.producer.$model\"\n            :state=\"validateState('producer')\"\n            aria-describedby=\"input-2-live-feedback\"\n          ></b-input>\n          <b-form-invalid-feedback id=\"input-2-live-feedback\">\n            The producer must contain at least 3 and maximum 20 chracters.\n          </b-form-invalid-feedback>\n        </b-col>\n        <b-col sm=\"3\">\n          <b-input\n            class=\"mb-2 mr-sm-2 mb-sm-0\"\n            placeholder=\"Enter new price\"\n            v-model=\"$v.form.price.$model\"\n            :state=\"validateState('price')\"\n            aria-describedby=\"input-3-live-feedback\"\n          ></b-input>\n          <b-form-invalid-feedback id=\"input-3-live-feedback\">\n            You must enter a price.\n          </b-form-invalid-feedback>\n        </b-col>\n        <b-col sm=\"1\">\n          <b-button variant=\"primary\" size=\"lg\" @click=\"addNew\">Save</b-button>\n        </b-col>\n      </b-row>\n    </b-form>\n  </b-container>\n</template>\n\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { validationMixin } from \"vuelidate\";\nimport { required, minLength, maxLength } from \"vuelidate/lib/validators\";\n\nexport default {\n  name: \"EditMobile\",\n  mixins: [validationMixin],\n  props: {\n    model: {\n      type: String,\n      default: \"\",\n    },\n    producer: {\n      type: String,\n      default: \"\",\n    },\n    price: {\n      type: Number,\n      default: \"\",\n    },\n  },\n  data() {\n    return {\n      id: \"\",\n      form: {\n        model: null,\n        producer: null,\n        price: null,\n      },\n    };\n  },\n  validations: {\n    form: {\n      model: {\n        required,\n        minLength: minLength(1),\n        maxLength: maxLength(50),\n      },\n      producer: {\n        required,\n        minLength: minLength(3),\n        maxLength: maxLength(20),\n      },\n      price: {\n        required,\n      },\n    },\n  },\n  mounted: function () {\n    this.form.model = this.model;\n    this.form.producer = this.producer;\n    this.form.price = this.price;\n  },\n  methods: {\n    ...mapActions([\"new_mobile\", \"change_mobile\"]),\n\n    validateState(name) {\n      const { $dirty, $error } = this.$v.form[name];\n      return $dirty ? !$error : null;\n    },\n\n    addNew: function () {\n      this.$v.form.$touch();\n      if (this.$v.form.$anyError) {\n        return;\n      }\n      const mob = JSON.stringify({\n        model: this.form.model,\n        producer: this.form.producer,\n        price: parseInt(this.form.price),\n      });\n\n      if (!this.$route.params.id) this.new_mobile(mob);\n      else {\n        this.change_mobile({ id: this.$route.params.id, mob: mob });\n      }\n      this.form.model = \"\";\n      this.form.producer = \"\";\n      this.form.price = \"\";\n      this.$router.push(\"/\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>"]}]}